<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knowledge Tester</title>
    <link rel="stylesheet" href="/global/global.css">
    <link rel="stylesheet" href="/global/accessibility.css">
    <link rel="stylesheet" href="/themes/theme-dark-cyber.css">
    <link rel="stylesheet" href="/global/splash.css">
    <link rel="manifest" href="/manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;500;600;700;800&family=Orbitron:wght@800&display=swap" rel="stylesheet">
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.29.0",
    "path": "https://aistudiocdn.com/path@^0.12.7",
    "express": "https://aistudiocdn.com/express@^5.1.0"
  }
}
</script>
</head>
<body class="loading-splash">
    <!-- SPLASH SCREEN -->
    <div id="splash-screen">
        <div class="splash-content">
            <svg class="splash-logo" viewBox="0 0 400 60" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="splash-logo-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:var(--color-primary)" />
                        <stop offset="100%" style="stop-color:var(--color-secondary)" />
                    </linearGradient>
                </defs>
                <text x="50%" y="40" class="splash-logo-text" text-anchor="middle">KNOWLEDGE TESTER</text>
            </svg>
            <div class="splash-loader"></div>
        </div>
    </div>

    <!-- MAIN APP STRUCTURE -->
    <div id="header-container" class="hidden"></div>
    <main id="root-container"></main>
    <footer class="site-footer">
        &copy; 2024 Knowledge Tester. All rights reserved.
    </footer>

    <!-- MODALS & OVERLAYS -->
    <div id="cursor-aura"></div>
    <div id="toast-container"></div>
    
    <div id="welcome-modal-overlay" class="hidden">
        <div class="welcome-modal-card">
            <h2>ðŸŽ‰ Welcome to the App!</h2>
            <p>You've just created your account and taken the first step on your knowledge journey.</p>
            <p>Explore topics, challenge yourself, and watch your skills grow. Good luck!</p>
            <button id="welcome-modal-close-btn" class="btn btn-primary">Let's Go!</button>
        </div>
    </div>
    
    <div id="modal-container" class="hidden">
        <div id="modal-card" class="card">
            <h2 id="modal-title">Confirmation</h2>
            <p id="modal-text">Are you sure?</p>
            <div id="modal-input-container" class="hidden">
                <input type="text" id="modal-input" class="form-control">
            </div>
            <div id="modal-actions">
                <button id="modal-cancel-btn" class="btn btn-secondary">Cancel</button>
                <button id="modal-confirm-btn" class="btn btn-primary">Confirm</button>
            </div>
        </div>
    </div>

    <div id="level-up-container" class="hidden">
        <div id="level-up-card" class="card">
            <h2 class="level-up-title">LEVEL UP!</h2>
            <div class="level-up-badge">
                <span id="level-up-number">2</span>
            </div>
            <div class="level-up-rewards">
                <p>New features may be unlocked!</p>
            </div>
            <button id="level-up-continue-btn" class="btn btn-primary">Continue</button>
        </div>
    </div>

    <!-- Main application script is now the single entry point -->
    <script type="module" src="/global/global.js"></script>
</body>
</html>