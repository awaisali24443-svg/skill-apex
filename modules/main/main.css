#quiz-container {
    min-height: 400px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
}

/* Topic Selector */
#topic-selector-view {
    text-align: center;
    width: 100%;
    max-width: 500px;
}
#topic-selector-view h2 { margin-bottom: 0.5rem; }
#topic-selector-view .subtitle { color: var(--color-text-muted); margin-bottom: 2rem; }
#topic-form #topic-input { text-align: center; font-size: 1.1rem; padding: 0.9rem; margin-bottom: 1rem; }
#topic-form #generate-quiz-btn { width: 100%; padding: 0.9rem; }
.error-text { color: var(--color-danger); min-height: 1.2em; margin-bottom: 1rem; }

/* Resume Prompt */
#resume-prompt-view {
    text-align: center;
    width: 100%;
    max-width: 500px;
    animation: fadeIn 0.5s ease;
}
#resume-prompt-view h2 { margin-bottom: 0.5rem; }
.resume-actions {
    margin-top: 2rem;
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}
.btn-secondary {
    background: transparent;
    color: var(--color-text);
    border: 2px solid var(--color-border);
}
.btn-secondary:hover:not(:disabled) {
    border-color: var(--color-primary);
    background-color: var(--color-glow);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}


/* Animations */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Quiz View */
#quiz-view { width: 100%; }
.progress-bar { width: 100%; background-color: var(--color-border); border-radius: 99px; height: 8px; overflow: hidden; margin-bottom: 2rem;}
.progress-bar-inner { height: 100%; background: linear-gradient(to right, var(--color-primary), var(--color-secondary)); border-radius: 99px; transition: width 0.5s ease-out; }
.question-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; color: var(--color-text-muted); }
.question-text { font-size: 1.5rem; font-weight: 700; margin-bottom: 2rem; min-height: 70px; }
.options-grid { display: grid; gap: 0.75rem; }
.quiz-option { width: 100%; text-align: left; padding: 1rem; border-radius: 8px; border: 2px solid var(--color-border); background-color: transparent; color: var(--color-text); font-size: 1rem; cursor: pointer; transition: all 0.2s ease; }
.quiz-option:hover:not(:disabled) { border-color: var(--color-primary); background-color: var(--color-glow); }
.quiz-option:disabled { cursor: default; }

/* Feedback Styles */
.correct { background-color: color-mix(in srgb, var(--color-success) 15%, transparent); border-color: var(--color-success) !important; }
.incorrect { background-color: color-mix(in srgb, var(--color-danger) 15%, transparent); border-color: var(--color-danger) !important; }
.faded { opacity: 0.6; }
#quiz-feedback { text-align: center; margin-top: 2rem; min-height: 50px; }

/* Results View */
#results-view { width: 100%; text-align: center; }
.results-title { font-size: 2rem; margin-bottom: 0.5rem; }
.score-container { position: relative; width: 150px; height: 150px; margin: 0 auto 1rem; }
.score-circle { width: 100%; height: 100%; transform: rotate(-90deg); }
.score-circle-bg { fill: none; stroke: var(--color-border); stroke-width: 12; }
.score-circle-fg { fill: none; stroke-linecap: round; transition: stroke-dashoffset 1s ease-out; }
.score-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2.5rem; font-weight: 800; }
.results-summary { font-size: 1.2rem; color: var(--color-text-muted); margin-bottom: 1rem; }
.review-container { max-height: 400px; overflow-y: auto; text-align: left; padding-right: 1rem; margin-bottom: 2rem; }
.review-item { border-bottom: 1px solid var(--color-border); padding-bottom: 1.5rem; margin-bottom: 1.5rem; }
.review-item:last-child { border-bottom: none; }
.review-question { font-weight: 700; margin-bottom: 1rem; }
.review-option { padding: 0.75rem; border-radius: 6px; margin-bottom: 0.5rem; border: 1px solid var(--color-border); background-color: color-mix(in srgb, var(--color-border) 20%, transparent); }
.review-correct { background-color: color-mix(in srgb, var(--color-success) 15%, transparent); border-color: color-mix(in srgb, var(--color-success) 40%, transparent); }
.review-incorrect { background-color: color-mix(in srgb, var(--color-danger) 15%, transparent); border-color: color-mix(in srgb, var(--color-danger) 40%, transparent); }
.review-explanation { margin-top: 1rem; padding: 0.75rem; background-color: color-mix(in srgb, var(--color-warning) 10%, transparent); border-left: 3px solid var(--color-warning); border-radius: 6px; font-size: 0.9rem; }

/* Level Progression Feedback */
.results-feedback {
    font-size: 1.1rem;
    font-weight: 500;
    margin-bottom: 2rem;
    padding: 0.75rem;
    border-radius: 8px;
}
.results-feedback.success {
    background-color: color-mix(in srgb, var(--color-success) 15%, transparent);
    color: var(--color-success);
}
.results-feedback.failure {
    background-color: color-mix(in srgb, var(--color-danger) 15%, transparent);
    color: var(--color-danger);
}
.results-actions {
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
}