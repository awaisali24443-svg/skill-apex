
<div class="game-level-container">
    
    <!-- Loading State -->
    <div id="level-loading-state" class="game-level-state active">
        <div class="card loading-card">
             <div class="spinner"></div>
             <h2>Constructing Scenario...</h2>
             <p id="loading-status-text">Interfacing with neural core.</p>
             <button id="cancel-generation-btn" class="btn" style="margin-top: 20px;">Abort</button>
        </div>
    </div>

    <!-- Lesson State -->
    <div id="level-lesson-state" class="game-level-state">
        <div class="card lesson-card">
            <header class="lesson-header">
                <h1 id="lesson-title">Briefing</h1>
            </header>
            <div id="lesson-body" class="lesson-body"></div>
            <footer class="lesson-footer">
                <button id="start-quiz-btn" class="btn btn-primary btn-block">
                    Start Mission <svg class="icon"><use href="assets/icons/feather-sprite.svg#arrow-right"/></svg>
                </button>
            </footer>
        </div>
    </div>

    <!-- Quiz State -->
    <div id="level-quiz-state" class="game-level-state">
        <header class="quiz-hud">
            <div class="hud-item timer">
                <svg class="icon"><use href="assets/icons/feather-sprite.svg#clock"/></svg>
                <span id="timer-text">00:00</span>
            </div>
            <div class="hud-progress">
                <div class="progress-bar"><div id="quiz-progress-bar-fill"></div></div>
                <span id="quiz-progress-text">1/5</span>
            </div>
            <button id="quit-btn" class="btn-icon" aria-label="Quit">
                <svg class="icon"><use href="assets/icons/feather-sprite.svg#x-circle"/></svg>
            </button>
        </header>

        <div class="quiz-main-area">
            <!-- Question Card -->
            <div class="card question-card">
                <h2 id="quiz-question-text">Loading...</h2>
            </div>

            <!-- Options Grid -->
            <div id="quiz-options-container" class="options-grid"></div>
        </div>

        <footer class="quiz-footer">
             <button id="hint-btn" class="btn">
                <svg class="icon"><use href="assets/icons/feather-sprite.svg#lightbulb"/></svg> Hint
            </button>
            <button id="submit-answer-btn" class="btn btn-primary" disabled>Submit</button>
        </footer>
    </div>
    
    <!-- Results State -->
    <div id="level-results-state" class="game-level-state">
        <div class="card results-card">
            <h1 id="results-title">Mission Report</h1>
            <div id="results-icon" class="results-visual"></div>
            <p id="results-details"></p>
            <p id="xp-gain-text" class="xp-text"></p>
            <div id="results-actions" class="results-actions"></div>
        </div>
    </div>

</div>
